{"ast":null,"code":"import _objectSpread from\"D:/Blood Bank/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{supabase}from'../supabase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DonateBlood=()=>{const[formData,setFormData]=useState({name:'',email:'',phone:'',bloodType:'',city:'',location:''});const[loading,setLoading]=useState(false);const[success,setSuccess]=useState(false);const[errors,setErrors]=useState({});// OTP Authentication states\nconst[showOtpStep,setShowOtpStep]=useState(false);const[otp,setOtp]=useState('');const[otpSent,setOtpSent]=useState(false);const[emailVerified,setEmailVerified]=useState(false);const[authMessage,setAuthMessage]=useState('');// Check if user is already authenticated in this session\nconst[sessionVerified,setSessionVerified]=useState(()=>{return sessionStorage.getItem('donorEmailVerified')==='true';});// Pre-fill email from session storage if available\nuseEffect(()=>{const savedEmail=sessionStorage.getItem('donorEmail');if(savedEmail&&sessionVerified){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{email:savedEmail}));setEmailVerified(true);}},[sessionVerified]);const bloodTypes=['A+','A-','B+','B-','AB+','AB-','O+','O-'];// Send OTP to email\nconst sendOTP=async email=>{setLoading(true);setAuthMessage('');try{const{error}=await supabase.auth.signInWithOtp({email:email});if(error){setAuthMessage(\"Error: \".concat(error.message));setLoading(false);return false;}setAuthMessage('OTP sent successfully! Check your email.');setOtpSent(true);setLoading(false);return true;}catch(error){setAuthMessage(\"Error: \".concat(error.message));setLoading(false);return false;}};// Verify OTP\nconst verifyOTP=async(email,otpToken)=>{setLoading(true);setAuthMessage('');try{const{data,error}=await supabase.auth.verifyOtp({email:email,token:otpToken,type:'email'});if(error){setAuthMessage(\"Error: \".concat(error.message));setLoading(false);return false;}setAuthMessage('Email verified successfully!');setEmailVerified(true);setLoading(false);setSessionVerified(true);// Store in session storage to prevent re-authentication\nsessionStorage.setItem('donorEmailVerified','true');sessionStorage.setItem('donorEmail',email);return true;}catch(error){setAuthMessage(\"Error: \".concat(error.message));setLoading(false);return false;}};// Handle email verification step\nconst handleEmailVerification=async e=>{e.preventDefault();if(!formData.email.trim()){setAuthMessage('Please enter your email address.');return;}if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){setAuthMessage('Please enter a valid email address.');return;}const success=await sendOTP(formData.email);if(success){setShowOtpStep(true);}};// Handle OTP verification\nconst handleOtpVerification=async e=>{e.preventDefault();if(!otp.trim()){setAuthMessage('Please enter the OTP.');return;}const success=await verifyOTP(formData.email,otp);if(success){setShowOtpStep(false);setOtpSent(false);setEmailVerified(true);setSessionVerified(true);// Store in session storage to prevent re-authentication\nsessionStorage.setItem('donorEmailVerified','true');sessionStorage.setItem('donorEmail',formData.email);}};// Resend OTP\nconst handleResendOTP=async()=>{await sendOTP(formData.email);};const validateForm=()=>{const newErrors={};if(!formData.name.trim())newErrors.name='Name is required';if(!formData.email.trim())newErrors.email='Email is required';else if(!/\\S+@\\S+\\.\\S+/.test(formData.email))newErrors.email='Email is invalid';// Phone number validation - required and must be exactly 10 digits\nif(!formData.phone.trim())newErrors.phone='Phone number is required';else if(!/^\\d{10}$/.test(formData.phone.replace(/\\s/g,'')))newErrors.phone='Phone number must be exactly 10 digits';if(!formData.bloodType)newErrors.bloodType='Blood type is required';if(!formData.city.trim())newErrors.city='City is required';setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleInputChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));if(errors[field]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:''}));}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{const donorData={Donor_name:formData.name,email:formData.email,phone_number:parseInt(formData.phone)||null,Blood_group:formData.bloodType,City:formData.city,Location:formData.location};const{error}=await supabase.from('Donor').insert([donorData]);if(error){console.error('Error adding donor:',error);setErrors({submit:'Failed to register. Please try again.'});setLoading(false);return;}setSuccess(true);setFormData({name:'',email:'',phone:'',bloodType:'',city:'',location:''});setEmailVerified(false);setOtpSent(false);setShowOtpStep(false);setOtp('');setAuthMessage('');// Clear session storage after successful registration\nsessionStorage.removeItem('donorEmailVerified');sessionStorage.removeItem('donorEmail');}catch(error){console.error('Error adding donor:',error);setErrors({submit:'Failed to register. Please try again.'});}finally{setLoading(false);}};// Email verification step\nif(!emailVerified&&!sessionVerified){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Email Verification Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:\"Please verify your email address to continue with donor registration.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:!showOtpStep?/*#__PURE__*/// Email input step\n_jsxs(\"form\",{onSubmit:handleEmailVerification,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>handleInputChange('email',e.target.value),className:\"input-field \".concat(errors.email?'border-red-500':''),placeholder:\"Enter your email\"}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.email})]}),authMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg text-sm \".concat(authMessage.includes('Error')?'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400':'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400'),children:authMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!formData.email.trim(),className:\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Sending OTP...':'Send OTP'})]}):/*#__PURE__*/// OTP verification step\n_jsxs(\"form\",{onSubmit:handleOtpVerification,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:otp,onChange:e=>setOtp(e.target.value),className:\"input-field\",placeholder:\"Enter 6-digit code\",maxLength:\"6\",required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:[\"We've sent a 6-digit code to \",formData.email]})]}),authMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg text-sm \".concat(authMessage.includes('Error')?'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400':'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400'),children:authMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!otp.trim(),className:\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Verifying...':'Verify OTP'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleResendOTP,disabled:loading,className:\"w-full px-4 py-2 text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50\",children:\"Resend OTP\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowOtpStep(false);setOtpSent(false);setOtp('');setAuthMessage('');},className:\"w-full px-4 py-2 text-sm text-gray-600 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300\",children:\"Change Email\"})]})]})})]})});}if(success){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u2764\\uFE0F\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Thank You for Your Generosity!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mb-6\",children:\"Your blood donation registration has been successfully completed. You are now part of our lifesaving network and will be contacted when there's a need for your blood type in your area.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-800 dark:text-green-200 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"What happens next?\"}),/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 You'll receive a confirmation email\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 We'll contact you when there's a need for your blood type\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 You can update your information anytime\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSuccess(false);setSessionVerified(false);setEmailVerified(false);sessionStorage.removeItem('donorEmailVerified');sessionStorage.removeItem('donorEmail');},className:\"btn-primary w-full\",children:\"Register Another Donor\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Become a Blood Donor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\",children:\"Join our network of lifesavers. Your donation can make all the difference for someone in need.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-lg\",children:\"\\u2713\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-800 dark:text-green-200\",children:\"Email verified successfully! You can now complete your donor registration.\"})})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>handleInputChange('name',e.target.value),className:\"input-field \".concat(errors.name?'border-red-500':''),placeholder:\"Enter your full name\"}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Email Address *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>handleInputChange('email',e.target.value),className:\"input-field \".concat(errors.email?'border-red-500':'',\" pr-10\"),placeholder:\"Enter your email\",readOnly:true}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 flex items-center pr-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-sm\",children:\"\\u2713 Verified\"})})]}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 \",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>handleInputChange('phone',e.target.value),className:\"input-field \".concat(errors.phone?'border-red-500':''),placeholder:\"Enter your 10-digit phone number\",maxLength:\"10\"}),errors.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Blood Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.bloodType,onChange:e=>handleInputChange('bloodType',e.target.value),className:\"input-field \".concat(errors.bloodType?'border-red-500':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select blood type\"}),bloodTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]}),errors.bloodType&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.bloodType})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"Location Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.city,onChange:e=>handleInputChange('city',e.target.value),className:\"input-field \".concat(errors.city?'border-red-500':''),placeholder:\"Enter your city\"}),errors.city&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.city})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Location/Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.location,onChange:e=>handleInputChange('location',e.target.value),className:\"input-field\",placeholder:\"Enter your address or location\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-6 border-t border-gray-200 dark:border-gray-700\",children:[errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 dark:text-red-400 text-sm\",children:errors.submit})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary w-full text-lg py-3 disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Registering...':'Register as Blood Donor'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3\",children:\"Donation Requirements\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-blue-800 dark:text-blue-200 space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Age between 18-65 years\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Weight at least 50kg (110 lbs)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Good general health\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 No recent surgeries or illnesses\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Not pregnant or recently given birth\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-900 dark:text-green-100 mb-3\",children:\"Benefits of Donating\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-green-800 dark:text-green-200 space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Save up to 3 lives per donation\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Free health checkup\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Reduce risk of heart disease\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Help maintain healthy iron levels\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Feel good about helping others\"})]})]})]})]})});};export default DonateBlood;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","DonateBlood","formData","setFormData","name","email","phone","bloodType","city","location","loading","setLoading","success","setSuccess","errors","setErrors","showOtpStep","setShowOtpStep","otp","setOtp","otpSent","setOtpSent","emailVerified","setEmailVerified","authMessage","setAuthMessage","sessionVerified","setSessionVerified","sessionStorage","getItem","savedEmail","prev","_objectSpread","bloodTypes","sendOTP","error","auth","signInWithOtp","concat","message","verifyOTP","otpToken","data","verifyOtp","token","type","setItem","handleEmailVerification","e","preventDefault","trim","test","handleOtpVerification","handleResendOTP","validateForm","newErrors","replace","Object","keys","length","handleInputChange","field","value","handleSubmit","donorData","Donor_name","phone_number","parseInt","Blood_group","City","Location","from","insert","console","submit","removeItem","className","children","onSubmit","onChange","target","placeholder","includes","disabled","maxLength","required","onClick","readOnly","map"],"sources":["D:/Blood Bank/src/pages/DonateBlood.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { supabase } from '../supabase';\r\n\r\nconst DonateBlood = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    bloodType: '',\r\n    city: '',\r\n    location: ''\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  \r\n  // OTP Authentication states\r\n  const [showOtpStep, setShowOtpStep] = useState(false);\r\n  const [otp, setOtp] = useState('');\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [emailVerified, setEmailVerified] = useState(false);\r\n  const [authMessage, setAuthMessage] = useState('');\r\n\r\n  // Check if user is already authenticated in this session\r\n  const [sessionVerified, setSessionVerified] = useState(() => {\r\n    return sessionStorage.getItem('donorEmailVerified') === 'true';\r\n  });\r\n\r\n  // Pre-fill email from session storage if available\r\n  useEffect(() => {\r\n    const savedEmail = sessionStorage.getItem('donorEmail');\r\n    if (savedEmail && sessionVerified) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        email: savedEmail\r\n      }));\r\n      setEmailVerified(true);\r\n    }\r\n  }, [sessionVerified]);\r\n\r\n  const bloodTypes = ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'];\r\n\r\n  // Send OTP to email\r\n  const sendOTP = async (email) => {\r\n    setLoading(true);\r\n    setAuthMessage('');\r\n    \r\n    try {\r\n      const { error } = await supabase.auth.signInWithOtp({\r\n        email: email,\r\n      });\r\n      \r\n      if (error) {\r\n        setAuthMessage(`Error: ${error.message}`);\r\n        setLoading(false);\r\n        return false;\r\n      }\r\n      \r\n      setAuthMessage('OTP sent successfully! Check your email.');\r\n      setOtpSent(true);\r\n      setLoading(false);\r\n      return true;\r\n    } catch (error) {\r\n      setAuthMessage(`Error: ${error.message}`);\r\n      setLoading(false);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Verify OTP\r\n  const verifyOTP = async (email, otpToken) => {\r\n    setLoading(true);\r\n    setAuthMessage('');\r\n    \r\n    try {\r\n      const { data, error } = await supabase.auth.verifyOtp({\r\n        email: email,\r\n        token: otpToken,\r\n        type: 'email'\r\n      });\r\n      \r\n      if (error) {\r\n        setAuthMessage(`Error: ${error.message}`);\r\n        setLoading(false);\r\n        return false;\r\n      }\r\n      \r\n      setAuthMessage('Email verified successfully!');\r\n      setEmailVerified(true);\r\n      setLoading(false);\r\n      setSessionVerified(true);\r\n      // Store in session storage to prevent re-authentication\r\n      sessionStorage.setItem('donorEmailVerified', 'true');\r\n      sessionStorage.setItem('donorEmail', email);\r\n      return true;\r\n    } catch (error) {\r\n      setAuthMessage(`Error: ${error.message}`);\r\n      setLoading(false);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Handle email verification step\r\n  const handleEmailVerification = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.email.trim()) {\r\n      setAuthMessage('Please enter your email address.');\r\n      return;\r\n    }\r\n    \r\n    if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      setAuthMessage('Please enter a valid email address.');\r\n      return;\r\n    }\r\n\r\n    const success = await sendOTP(formData.email);\r\n    if (success) {\r\n      setShowOtpStep(true);\r\n    }\r\n  };\r\n\r\n  // Handle OTP verification\r\n  const handleOtpVerification = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!otp.trim()) {\r\n      setAuthMessage('Please enter the OTP.');\r\n      return;\r\n    }\r\n\r\n    const success = await verifyOTP(formData.email, otp);\r\n    if (success) {\r\n      setShowOtpStep(false);\r\n      setOtpSent(false);\r\n      setEmailVerified(true);\r\n      setSessionVerified(true);\r\n      // Store in session storage to prevent re-authentication\r\n      sessionStorage.setItem('donorEmailVerified', 'true');\r\n      sessionStorage.setItem('donorEmail', formData.email);\r\n    }\r\n  };\r\n\r\n  // Resend OTP\r\n  const handleResendOTP = async () => {\r\n    await sendOTP(formData.email);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.name.trim()) newErrors.name = 'Name is required';\r\n    if (!formData.email.trim()) newErrors.email = 'Email is required';\r\n    else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) newErrors.email = 'Email is invalid';\r\n    \r\n    // Phone number validation - required and must be exactly 10 digits\r\n    if (!formData.phone.trim()) newErrors.phone = 'Phone number is required';\r\n    else if (!/^\\d{10}$/.test(formData.phone.replace(/\\s/g, ''))) newErrors.phone = 'Phone number must be exactly 10 digits';\r\n    \r\n    if (!formData.bloodType) newErrors.bloodType = 'Blood type is required';\r\n    if (!formData.city.trim()) newErrors.city = 'City is required';\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const donorData = {\r\n        Donor_name: formData.name,\r\n        email: formData.email,\r\n        phone_number: parseInt(formData.phone) || null,\r\n        Blood_group: formData.bloodType,\r\n        City: formData.city,\r\n        Location: formData.location\r\n      };\r\n\r\n      const { error } = await supabase\r\n        .from('Donor')\r\n        .insert([donorData]);\r\n\r\n      if (error) {\r\n        console.error('Error adding donor:', error);\r\n        setErrors({ submit: 'Failed to register. Please try again.' });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setSuccess(true);\r\n      setFormData({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        bloodType: '',\r\n        city: '',\r\n        location: ''\r\n      });\r\n      setEmailVerified(false);\r\n      setOtpSent(false);\r\n      setShowOtpStep(false);\r\n      setOtp('');\r\n      setAuthMessage('');\r\n      // Clear session storage after successful registration\r\n      sessionStorage.removeItem('donorEmailVerified');\r\n      sessionStorage.removeItem('donorEmail');\r\n    } catch (error) {\r\n      console.error('Error adding donor:', error);\r\n      setErrors({ submit: 'Failed to register. Please try again.' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Email verification step\r\n  if (!emailVerified && !sessionVerified) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\">\r\n        <div className=\"max-w-md mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\r\n              Email Verification Required\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-300\">\r\n              Please verify your email address to continue with donor registration.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            {!showOtpStep ? (\r\n              // Email input step\r\n              <form onSubmit={handleEmailVerification} className=\"space-y-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Email Address *\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={formData.email}\r\n                    onChange={(e) => handleInputChange('email', e.target.value)}\r\n                    className={`input-field ${errors.email ? 'border-red-500' : ''}`}\r\n                    placeholder=\"Enter your email\"\r\n                  />\r\n                  {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\r\n                </div>\r\n\r\n                {authMessage && (\r\n                  <div className={`p-3 rounded-lg text-sm ${\r\n                    authMessage.includes('Error') \r\n                      ? 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400'\r\n                      : 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400'\r\n                  }`}>\r\n                    {authMessage}\r\n                  </div>\r\n                )}\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || !formData.email.trim()}\r\n                  className=\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {loading ? 'Sending OTP...' : 'Send OTP'}\r\n                </button>\r\n              </form>\r\n            ) : (\r\n              // OTP verification step\r\n              <form onSubmit={handleOtpVerification} className=\"space-y-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Enter OTP\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={otp}\r\n                    onChange={(e) => setOtp(e.target.value)}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Enter 6-digit code\"\r\n                    maxLength=\"6\"\r\n                    required\r\n                  />\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\r\n                    We've sent a 6-digit code to {formData.email}\r\n                  </p>\r\n                </div>\r\n\r\n                {authMessage && (\r\n                  <div className={`p-3 rounded-lg text-sm ${\r\n                    authMessage.includes('Error') \r\n                      ? 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400'\r\n                      : 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400'\r\n                  }`}>\r\n                    {authMessage}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"space-y-3\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading || !otp.trim()}\r\n                    className=\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    {loading ? 'Verifying...' : 'Verify OTP'}\r\n                  </button>\r\n                  \r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleResendOTP}\r\n                    disabled={loading}\r\n                    className=\"w-full px-4 py-2 text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50\"\r\n                  >\r\n                    Resend OTP\r\n                  </button>\r\n                  \r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowOtpStep(false);\r\n                      setOtpSent(false);\r\n                      setOtp('');\r\n                      setAuthMessage('');\r\n                    }}\r\n                    className=\"w-full px-4 py-2 text-sm text-gray-600 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                  >\r\n                    Change Email\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (success) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-8\">\r\n        <div className=\"max-w-md mx-auto px-4\">\r\n          <div className=\"card text-center\">\r\n            <div className=\"text-6xl mb-4\">❤️</div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\r\n              Thank You for Your Generosity!\r\n            </h2>\r\n            <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\r\n              Your blood donation registration has been successfully completed. You are now part of our lifesaving network and will be contacted when there's a need for your blood type in your area.\r\n            </p>\r\n            <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6\">\r\n              <p className=\"text-green-800 dark:text-green-200 text-sm\">\r\n                <strong>What happens next?</strong><br/>\r\n                • You'll receive a confirmation email<br/>\r\n                • We'll contact you when there's a need for your blood type<br/>\r\n                • You can update your information anytime\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                setSuccess(false);\r\n                setSessionVerified(false);\r\n                setEmailVerified(false);\r\n                sessionStorage.removeItem('donorEmailVerified');\r\n                sessionStorage.removeItem('donorEmail');\r\n              }}\r\n              className=\"btn-primary w-full\"\r\n            >\r\n              Register Another Donor\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\">\r\n            Become a Blood Donor\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\">\r\n            Join our network of lifesavers. Your donation can make all the difference for someone in need.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"card\">\r\n          {/* Email verification success message */}\r\n          <div className=\"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <span className=\"text-green-500 text-lg\">✓</span>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-green-800 dark:text-green-200\">\r\n                  Email verified successfully! You can now complete your donor registration.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Personal Information</h3>\r\n              <div className=\"grid md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Full Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.name}\r\n                    onChange={(e) => handleInputChange('name', e.target.value)}\r\n                    className={`input-field ${errors.name ? 'border-red-500' : ''}`}\r\n                    placeholder=\"Enter your full name\"\r\n                  />\r\n                  {errors.name && <p className=\"text-red-500 text-sm mt-1\">{errors.name}</p>}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Email Address *\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"email\"\r\n                      value={formData.email}\r\n                      onChange={(e) => handleInputChange('email', e.target.value)}\r\n                      className={`input-field ${errors.email ? 'border-red-500' : ''} pr-10`}\r\n                      placeholder=\"Enter your email\"\r\n                      readOnly\r\n                    />\r\n                    <div className=\"absolute inset-y-0 right-0 flex items-center pr-3\">\r\n                      <span className=\"text-green-500 text-sm\">✓ Verified</span>\r\n                    </div>\r\n                  </div>\r\n                  {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 \">\r\n                    Phone Number *\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={formData.phone}\r\n                    onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                    className={`input-field ${errors.phone ? 'border-red-500' : ''}`}\r\n                    placeholder=\"Enter your 10-digit phone number\"\r\n                    maxLength=\"10\"\r\n                  />\r\n                  {errors.phone && <p className=\"text-red-500 text-sm mt-1\">{errors.phone}</p>}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Blood Type *\r\n                  </label>\r\n                  <select\r\n                    value={formData.bloodType}\r\n                    onChange={(e) => handleInputChange('bloodType', e.target.value)}\r\n                    className={`input-field ${errors.bloodType ? 'border-red-500' : ''}`}\r\n                  >\r\n                    <option value=\"\">Select blood type</option>\r\n                    {bloodTypes.map(type => (\r\n                      <option key={type} value={type}>{type}</option>\r\n                    ))}\r\n                  </select>\r\n                  {errors.bloodType && <p className=\"text-red-500 text-sm mt-1\">{errors.bloodType}</p>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Location Information</h3>\r\n              <div className=\"grid md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    City *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.city}\r\n                    onChange={(e) => handleInputChange('city', e.target.value)}\r\n                    className={`input-field ${errors.city ? 'border-red-500' : ''}`}\r\n                    placeholder=\"Enter your city\"\r\n                  />\r\n                  {errors.city && <p className=\"text-red-500 text-sm mt-1\">{errors.city}</p>}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Location/Address\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.location}\r\n                    onChange={(e) => handleInputChange('location', e.target.value)}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Enter your address or location\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n              {errors.submit && (\r\n                <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\r\n                  <p className=\"text-red-600 dark:text-red-400 text-sm\">{errors.submit}</p>\r\n                </div>\r\n              )}\r\n              \r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"btn-primary w-full text-lg py-3 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? 'Registering...' : 'Register as Blood Donor'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"mt-8 grid md:grid-cols-2 gap-6\">\r\n          <div className=\"card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\">\r\n            <h3 className=\"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3\">Donation Requirements</h3>\r\n            <ul className=\"text-blue-800 dark:text-blue-200 space-y-2 text-sm\">\r\n              <li>• Age between 18-65 years</li>\r\n              <li>• Weight at least 50kg (110 lbs)</li>\r\n              <li>• Good general health</li>\r\n              <li>• No recent surgeries or illnesses</li>\r\n              <li>• Not pregnant or recently given birth</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\">\r\n            <h3 className=\"text-lg font-semibold text-green-900 dark:text-green-100 mb-3\">Benefits of Donating</h3>\r\n            <ul className=\"text-green-800 dark:text-green-200 space-y-2 text-sm\">\r\n              <li>• Save up to 3 lives per donation</li>\r\n              <li>• Free health checkup</li>\r\n              <li>• Reduce risk of heart disease</li>\r\n              <li>• Help maintain healthy iron levels</li>\r\n              <li>• Feel good about helping others</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonateBlood; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}